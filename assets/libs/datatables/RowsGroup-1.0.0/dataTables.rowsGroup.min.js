/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/datatables-rowsgroup-kaihei777@1.0.0/dataTables.rowsGroup.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*! RowsGroup for DataTables v2.0.0
 * 2015-2016 Alexey Shildyakov ashl1future@gmail.com
 * 2016 Tibor Wekerle
 */
!function(e){var r={order:"current",page:"current",search:"applied"},t=function(e,r){this.table=e.table(),this.columnsForGrouping=r,this.orderOverrideNow=!1,this.mergeCellsNeeded=!1,this.order=[];var t=this;e.on("order.dt",(function(e,r){t.orderOverrideNow?t.orderOverrideNow=!1:(t.orderOverrideNow=!0,t._updateOrderAndDraw())})),e.on("preDraw.dt",(function(e,r){t.mergeCellsNeeded&&(t.mergeCellsNeeded=!1,t._mergeCells())})),e.on("column-visibility.dt",(function(e,r){t.mergeCellsNeeded=!0})),e.on("search.dt",(function(e,r){t.mergeCellsNeeded=!0})),e.on("page.dt",(function(e,r){t.mergeCellsNeeded=!0})),e.on("length.dt",(function(e,r){t.mergeCellsNeeded=!0})),e.on("xhr.dt",(function(e,r){t.mergeCellsNeeded=!0})),this._updateOrderAndDraw()};t.prototype={setMergeCells:function(){this.mergeCellsNeeded=!0},mergeCells:function(){this.setMergeCells(),this.table.draw()},_getOrderWithGroupColumns:function(e,r){void 0===r&&(r="asc");var t=this,n=this.columnsForGrouping.map((function(e){return t.table.column(e).index()})),o=e.filter((function(e){return n.indexOf(e[0])>=0})),i=e.filter((function(e){return n.indexOf(e[0])<0})),s=o.map((function(e){return e[0]})),d=n.map((function(e){var t=s.indexOf(e);return t>=0?[e,o[t][1]]:[e,r]}));return d.push.apply(d,i),d},_getInjectedMonoSelectWorkaround:function(e){if(1===e.length){var r=e[0][0],t=this.order.map((function(e){return e[0]})).indexOf(r);if(t>=0)return[[r,this._toogleDirection(this.order[t][1])]]}return e},_mergeCells:function(){var e=this.table.columns(this.columnsForGrouping,r).indexes().toArray(),t=this.table.rows(r)[0].length;this._mergeColumn(0,t-1,e)},_mergeColumn:function(t,n,o){var i,s=o.slice(),d=s.shift(),l=(d=this.table.column(d,r)).nodes(),a=d.data(),u=t;for(i=t+1;i<=n;++i)a[i]===a[u]?e(l[i]).hide():(e(l[u]).show(),e(l[u]).attr("rowspan",i-1-u+1),s.length>0&&this._mergeColumn(u,i-1,s),u=i);e(l[u]).show(),e(l[u]).attr("rowspan",i-1-u+1),s.length>0&&this._mergeColumn(u,i-1,s)},_toogleDirection:function(e){return"asc"==e?"desc":"asc"},_updateOrderAndDraw:function(){this.mergeCellsNeeded=!0;var r=this.table.order();r=this._getInjectedMonoSelectWorkaround(r),this.order=this._getOrderWithGroupColumns(r),this.table.order(e.extend(!0,Array(),this.order)),this.table.draw()}},e.fn.dataTable.RowsGroup=t,e.fn.DataTable.RowsGroup=t,e(document).on("init.dt",(function(r,n){if("dt"===r.namespace){var o=new e.fn.dataTable.Api(n);if(n.oInit.rowsGroup||e.fn.dataTable.defaults.rowsGroup){var i=n.oInit.rowsGroup?n.oInit.rowsGroup:e.fn.dataTable.defaults.rowsGroup,s=new t(o,i);e.fn.dataTable.Api.register("rowsgroup.update()",(function(){return s.mergeCells(),this})),e.fn.dataTable.Api.register("rowsgroup.updateNextDraw()",(function(){return s.setMergeCells(),this}))}}}))}(jQuery);
//# sourceMappingURL=/sm/3e0d4e979505b7afe47a6f56b872f6dda14affa322fb1f9ccd454452a42cb6cc.map